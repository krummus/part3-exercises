{"version":3,"sources":["components/Filter.js","components/Person.js","components/PersonForm.js","components/Notification.js","services/PersonsService.js","App.js","index.js"],"names":["Filter","props","value","filterText","onChange","Person","person","removeContact","name","number","onClick","PersonForm","onSubmit","formOnSubmit","nameInput","nameOnChange","type","id","phoneValue","phoneOnChange","minLength","maxLength","Notification","message","errState","className","baseUrl","pSObject","getAll","axios","get","then","response","data","create","newObject","post","update","put","remove","delete","App","useState","persons","setPersons","newName","setNewName","newTele","setNewTele","setFilterText","errMessage","setErrMessage","setErrState","personsToShow","length","filter","toLowerCase","includes","useEffect","console","log","personService","filterValue","event","target","preventDefault","personObject","exists","currPerson","find","window","confirm","map","setTimeout","catch","error","updateContact","concat","delContact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.62e2f8e4.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    return(\r\n        <div>\r\n            filter shown with <input value={props.filterText} onChange={props.onChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Person = ({person, removeContact}) => {\r\n  return (\r\n    <li>{person.name} {person.number} <button onClick={removeContact}>delete</button></li>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return(\r\n        <form onSubmit={props.formOnSubmit}>\r\n        <div>\r\n            name: <input value={props.nameInput} onChange={props.nameOnChange} /><br />\r\n            phone: <input type=\"tel\" id=\"tel\" name=\"tel\" value={props.phoneValue} onChange={props.phoneOnChange} minLength=\"8\" maxLength=\"10\" />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Notification = ({ message, errState }) => {\r\n    if (message === null) {\r\n      return (\r\n        <div>\r\n        </div>\r\n      )\r\n    }else{\r\n        if (errState === true) {\r\n            return(\r\n                <div className=\"error\">\r\n                {message}\r\n                </div>\r\n            )\r\n        }else{\r\n            return(\r\n                <div className=\"good\">\r\n                {message}\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(baseUrl + '/' + id, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(baseUrl + '/' + id)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst pSObject = {getAll, create, update, remove}\r\n\r\nexport default pSObject","import React, { useState, useEffect } from 'react'\nimport Filter from \"./components/Filter.js\"\nimport Person from \"./components/Person.js\"\nimport PersonForm from \"./components/PersonForm.js\"\nimport Notification from \"./components/Notification.js\"\nimport personService from \"./services/PersonsService.js\"\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('a new name...')\n  const [ newTele, setNewTele ] = useState('telephone number')\n  const [ filterText, setFilterText] = useState('')\n  const [ errMessage, setErrMessage] = useState(null)\n  const [ errState, setErrState] = useState(false)\n\n  const personsToShow = filterText.length === 0 ? persons : persons.filter(person => person.name.toLowerCase().includes(filterText.toLowerCase()))\n\n  useEffect(() => {\n      console.log('effect')\n      personService\n        .getAll()\n        .then(response => {\n          console.log('promise fulfilled - data loaded')\n          setPersons(response)\n        })\n  }, [])\n  console.log('render', persons, 'persons')\n\n  const updateContact = (personObject) => {\n    const currPerson = (persons.find(person => person.name.toLowerCase() === personObject.name.toLowerCase()))\n    console.log('person exists @ ', currPerson.id)\n    if (window.confirm(persons.find(person => person.name.toLowerCase() === personObject.name.toLowerCase()).name + \" has already been added to the phone book! Would you like to replace the old number with a new one?\")) {\n      personService\n      .update(currPerson.id, personObject)\n      .then(response => {\n        setPersons(persons.map(person => person.id !== currPerson.id ? person : response))\n        setErrMessage(`'${response.name}' has been updated with number '${response.number}'`)\n        setErrState(false)\n        console.log(persons)\n        setNewName('a new name...')\n        setNewTele('telephone number')\n        setTimeout(() => {\n          setErrMessage(null)\n        }, 3000)\n      })\n      .catch(error => {\n        setErrState(true)\n        setErrMessage(`${error.response.data}`)\n        setNewName('a new name...')\n        setNewTele('telephone number')\n        setPersons(persons.filter(person => person.id !== currPerson.id))\n        setTimeout(() => {\n          setErrMessage(null)\n        }, 3000)\n      })\n    }\n  }\n\n  const addContact = (event) => {\n    event.preventDefault()\n    console.log('button clicked') \n    const personObject = {\n      name: newName,\n      number: newTele,\n    }\n    const exists = (persons.filter(person => person.name.toLowerCase() === personObject.name.toLowerCase()).length > 0) ? true : false\n    console.log(exists, \"exists\")\n    if (exists) {\n      updateContact(personObject)\n    }else{\n      if (personObject.name === 'a new name...' || personObject.number === 'telephone number') {\n        setErrMessage(`Please enter details other than the default!`)\n        setErrState(true)\n        setTimeout(() => {\n          setErrMessage(null)\n        }, 3000)\n      }else{ \n        personService\n          .create(personObject)\n          .then(response => {\n            personObject.id = response.id\n            setPersons(persons.concat(personObject))\n            setErrMessage(`'${response.name}' has been added to the phonebook`)\n            setErrState(false)\n            setNewName('a new name...')\n            setNewTele('telephone number')\n            setTimeout(() => {\n              setErrMessage(null)\n            }, 3000)\n          })\n          .catch(error => {\n            setErrState(true)\n            setErrMessage(error.response.data)\n            console.log(error.response.data, 'error message details')\n            console.log(error)\n            setTimeout(() => {\n              setErrMessage(null)\n            }, 3000)\n          })\n      }\n    }\n  }\n\n  const delContact = (id) => {\n    const currPerson = persons.find(person => person.id === id)\n    if (window.confirm(\"Delete \" + currPerson.name)) {\n      console.log('delete button has been pressed for ID', id)\n      personService\n        .remove(id)\n        .then(response => {\n          setErrMessage(`'${currPerson.name}' has been deleted`)\n          setErrState(false)\n          setPersons(persons.filter(person => person.id !== id))\n          setTimeout(() => {\n            setErrMessage(null)\n          }, 3000)\n        })\n        .catch(error => {\n          setErrMessage(`${error.response.data}`)\n          setErrState(true)\n          setPersons(persons.filter(person => person.id !== currPerson.id))\n          setTimeout(() => {\n            setErrMessage(null)\n          }, 3000)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleTeleChange = (event) => {\n    setNewTele(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilterText(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter filterValue={filterText} onChange={handleFilterChange} />\n      <h2>add a new</h2>\n      <PersonForm formOnSubmit={addContact} nameInput={newName} nameOnChange={handleNameChange} phoneValue={newTele} phoneOnChange={handleTeleChange} />\n      <h2>Numbers</h2>\n      <Notification message={errMessage} errState={errState} />\n      <ul>\n        {personsToShow.map(person => <Person key={person.id} person={person} removeContact={() => delContact(person.id)}/>)}\n      </ul>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}