{"version":3,"sources":["components/Filter.js","components/Person.js","components/PersonForm.js","components/Notification.js","services/PersonsService.js","App.js","index.js"],"names":["Filter","props","value","filterText","onChange","Person","person","removeContact","name","number","onClick","PersonForm","onSubmit","formOnSubmit","nameInput","nameOnChange","type","id","phoneValue","phoneOnChange","minLength","maxLength","Notification","message","errState","className","baseUrl","pSObject","getAll","axios","get","then","response","data","create","newObject","request","post","console","log","update","put","remove","delete","App","useState","persons","setPersons","newName","setNewName","newTele","setNewTele","setFilterText","errMessage","setErrMessage","setErrState","personsToShow","length","filter","toLowerCase","includes","useEffect","personService","updateContact","personObject","currPerson","find","window","confirm","map","setTimeout","catch","error","filterValue","event","target","exists","preventDefault","concat","delContact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bef16a60.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    return(\r\n        <div>\r\n            filter shown with <input value={props.filterText} onChange={props.onChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Person = ({person, removeContact}) => {\r\n  return (\r\n    <li>{person.name} {person.number} <button onClick={removeContact}>delete</button></li>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return(\r\n        <form onSubmit={props.formOnSubmit}>\r\n        <div>\r\n            name: <input value={props.nameInput} onChange={props.nameOnChange} /><br />\r\n            phone: <input type=\"tel\" id=\"tel\" name=\"tel\" value={props.phoneValue} onChange={props.phoneOnChange} minLength=\"10\" maxLength=\"10\" />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Notification = ({ message, errState }) => {\r\n    if (message === null) {\r\n      return (\r\n        <div>\r\n        </div>\r\n      )\r\n    }else{\r\n        if (errState === true) {\r\n            return(\r\n                <div className=\"error\">\r\n                {message}\r\n                </div>\r\n            )\r\n        }else{\r\n            return(\r\n                <div className=\"good\">\r\n                {message}\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    console.log(request)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(baseUrl + '/' + id, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(baseUrl + '/' + id)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst pSObject = {getAll, create, update, remove}\r\n\r\nexport default pSObject","import React, { useState, useEffect } from 'react'\nimport Filter from \"./components/Filter.js\"\nimport Person from \"./components/Person.js\"\nimport PersonForm from \"./components/PersonForm.js\"\nimport Notification from \"./components/Notification.js\"\nimport personService from \"./services/PersonsService.js\"\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('a new name...')\n  const [ newTele, setNewTele ] = useState('telephone number')\n  const [ filterText, setFilterText] = useState('')\n  const [ errMessage, setErrMessage] = useState(null)\n  const [ errState, setErrState] = useState(false)\n\n  const personsToShow = filterText.length === 0 ? persons : persons.filter(person => person.name.toLowerCase().includes(filterText.toLowerCase()))\n\n  useEffect(() => {\n      console.log('effect')\n      personService\n        .getAll()\n        .then(response => {\n          console.log('promise fulfilled - data loaded')\n          setPersons(response)\n        })\n  }, [])\n  console.log('render', persons, 'persons')\n\n  const addContact = (event) => {\n    console.log('button clicked') \n    const personObject = {\n      name: newName,\n      number: newTele,\n    }\n    const exists = (persons.filter(person => person.name.toLowerCase() === personObject.name.toLowerCase()).length > 0) ? true : false\n    console.log(exists, \"exists\")\n    if (exists) {\n      updateContact(personObject)\n    }else{\n      if (personObject.name === 'a new name...' || personObject.number === 'telephone number') {\n        event.preventDefault()\n        setErrMessage(`Please enter details other than the default!`)\n        setErrState(true)\n        setTimeout(() => {\n          setErrMessage(null)\n        }, 3000)\n      }else{ \n        console.log('made it here for add contact path')\n        personService\n          .create(personObject)\n          .then(response => {\n            console.log(response, \"actually printing\")\n            setPersons(persons.concat(response))\n            setErrMessage(`'${response.name}' has been added to the phonebook`)\n            setErrState(false)\n            setNewName('a new name...')\n            setNewTele('telephone number')\n            setTimeout(() => {\n              setErrMessage(null)\n            }, 3000)\n          })\n          .catch(error => {\n            setErrState(true)\n            setErrMessage(`Problem with addition to server`)\n            console.log(error)\n            setTimeout(() => {\n              setErrMessage(null)\n            }, 3000)\n          })\n      }\n    }\n  }\n\n  const updateContact = (personObject) => {\n    const currPerson = (persons.find(person => person.name.toLowerCase() === personObject.name.toLowerCase()))\n    console.log('person exists @ ', currPerson.id)\n    if (window.confirm(persons.find(person => person.name.toLowerCase() === personObject.name.toLowerCase()).name + \" has already been added to the phone book! Would you like to replace the old number with a new one?\")) {\n      personService\n      .update(currPerson.id, personObject)\n      .then(response => {\n        setPersons(persons.map(person => person.id !== currPerson.id ? person : response))\n        setErrMessage(`'${response.name}' has been updated with number '${response.number}'`)\n        setErrState(false)\n        console.log(persons)\n        setNewName('a new name...')\n        setNewTele('telephone number')\n        setTimeout(() => {\n          setErrMessage(null)\n        }, 3000)\n      })\n      .catch(error => {\n        setErrState(true)\n        setErrMessage(`'${currPerson.name}' has already been removed from the server`)\n        setNewName('a new name...')\n        setNewTele('telephone number')\n        setPersons(persons.filter(person => person.id !== currPerson.id))\n        setTimeout(() => {\n          setErrMessage(null)\n        }, 3000)\n      })\n    }\n  }\n\n  const delContact = (id) => {\n    const currPerson = persons.find(person => person.id === id)\n    if (window.confirm(\"Delete \" + currPerson.name)) {\n      console.log('delete button has been pressed for ID', id)\n      personService\n        .remove(id)\n        .then(response => {\n          setErrMessage(`'${currPerson.name}' has been deleted`)\n          setErrState(false)\n          console.log(response,\"server response\")\n          setPersons(persons.filter(person => person.id !== id))\n          setTimeout(() => {\n            setErrMessage(null)\n          }, 3000)\n        })\n        .catch(error => {\n          setErrMessage(`'${currPerson.name}' has already been removed from the server`)\n          setErrState(true)\n          setPersons(persons.filter(person => person.id !== currPerson.id))\n          setTimeout(() => {\n            setErrMessage(null)\n          }, 3000)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleTeleChange = (event) => {\n    setNewTele(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilterText(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter filterValue={filterText} onChange={handleFilterChange} />\n      <h2>add a new</h2>\n      <PersonForm formOnSubmit={addContact} nameInput={newName} nameOnChange={handleNameChange} phoneValue={newTele} phoneOnChange={handleTeleChange} />\n      <h2>Numbers</h2>\n      <Notification message={errMessage} errState={errState} />\n      <ul>\n        {personsToShow.map(person => <Person key={person.id} person={person} removeContact={() => delContact(person.id)}/>)}\n      </ul>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}