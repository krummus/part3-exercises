{"version":3,"sources":["components/Filter.js","components/Person.js","components/PersonForm.js","components/Notification.js","services/PersonsService.js","App.js","index.js"],"names":["Filter","props","value","filterText","onChange","Person","person","removeContact","name","number","onClick","PersonForm","onSubmit","formOnSubmit","nameInput","nameOnChange","type","id","phoneValue","phoneOnChange","minLength","maxLength","Notification","message","errState","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","newName","setNewName","newTele","setNewTele","setFilterText","errMessage","setErrMessage","setErrState","personsToShow","length","filter","toLowerCase","includes","useEffect","console","log","personService","updateContact","personObject","currPerson","find","window","confirm","map","setTimeout","catch","error","filterValue","event","target","preventDefault","concat","delContact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.414843f1.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    return(\r\n        <div>\r\n            filter shown with <input value={props.filterText} onChange={props.onChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Person = ({person, removeContact}) => {\r\n  return (\r\n    <li>{person.name} {person.number} <button onClick={removeContact}>delete</button></li>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return(\r\n        <form onSubmit={props.formOnSubmit}>\r\n        <div>\r\n            name: <input value={props.nameInput} onChange={props.nameOnChange} /><br />\r\n            phone: <input type=\"tel\" id=\"tel\" name=\"tel\" value={props.phoneValue} onChange={props.phoneOnChange} minLength=\"10\" maxLength=\"10\" />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Notification = ({ message, errState }) => {\r\n    if (message === null) {\r\n      return (\r\n        <div>\r\n        </div>\r\n      )\r\n    }else{\r\n        if (errState === true) {\r\n            return(\r\n                <div className=\"error\">\r\n                {message}\r\n                </div>\r\n            )\r\n        }else{\r\n            return(\r\n                <div className=\"good\">\r\n                {message}\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(baseUrl + '/' + id, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(baseUrl + '/' + id)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport Filter from \"./components/Filter.js\"\nimport Person from \"./components/Person.js\"\nimport PersonForm from \"./components/PersonForm.js\"\nimport Notification from \"./components/Notification.js\"\nimport personService from \"./services/PersonsService.js\"\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('a new name...')\n  const [ newTele, setNewTele ] = useState('telephone number')\n  const [ filterText, setFilterText] = useState('')\n  const [ errMessage, setErrMessage] = useState(null)\n  const [ errState, setErrState] = useState(false)\n\n  const personsToShow = filterText.length === 0 ? persons : persons.filter(person => person.name.toLowerCase().includes(filterText.toLowerCase()))\n\n  useEffect(() => {\n      console.log('effect')\n      personService\n        .getAll()\n        .then(response => {\n          console.log('promise fulfilled - data loaded')\n          setPersons(response)\n        })\n  }, [])\n  console.log('render', persons, 'persons')\n\n  const addContact = (event) => {\n    console.log('button clicked') \n    const personObject = {\n      name: newName,\n      number: newTele,\n    }\n    const exists = (persons.filter(person => person.name.toLowerCase() === personObject.name.toLowerCase()).length > 0) ? true : false\n    if (exists) {\n      updateContact(personObject)\n    }else{\n      if (personObject.name === 'a new name...' || personObject.number === 'telephone number') {\n        event.preventDefault()\n        setErrMessage(`Please enter details other than the default!`)\n        setErrState(true)\n        setTimeout(() => {\n          setErrMessage(null)\n        }, 2000)\n      }else{ \n        personService\n          .create(personObject)\n          .then(response => {\n            setPersons(persons.concat(response))\n            setErrMessage(`'${response.name}' has been added to the phonebook`)\n            setErrState(false)\n            setNewName('a new name...')\n            setNewTele('telephone number')\n            setTimeout(() => {\n              setErrMessage(null)\n            }, 5000)\n          })\n      }\n    }\n  }\n\n  const updateContact = (personObject) => {\n    const currPerson = (persons.find(person => person.name.toLowerCase() === personObject.name.toLowerCase()))\n    console.log('person exists @ ', currPerson.id)\n    if (window.confirm(persons.find(person => person.name.toLowerCase() === personObject.name.toLowerCase()).name + \" has already been added to the phone book! Would you like to replace the old number with a new one?\")) {\n      personService\n      .update(currPerson.id, personObject)\n      .then(response => {\n        setPersons(persons.map(person => person.id !== currPerson.id ? person : response))\n        setErrMessage(`'${response.name}' has been updated with number '${response.number}'`)\n        setErrState(false)\n        console.log(persons)\n        setNewName('a new name...')\n        setNewTele('telephone number')\n        setTimeout(() => {\n          setErrMessage(null)\n        }, 5000)\n      })\n      .catch(error => {\n        setErrState(true)\n        setErrMessage(`'${currPerson.name}' has already been removed from the server`)\n        setNewName('a new name...')\n        setNewTele('telephone number')\n        setTimeout(() => {\n          setErrMessage(null)\n        }, 5000)\n        setPersons(persons.filter(person => person.id !== currPerson.id))\n      })\n    }\n  }\n\n  const delContact = (id) => {\n    const currPerson = persons.find(person => person.id === id)\n    if (window.confirm(\"Delete \" + currPerson.name)) {\n      console.log('delete button has been pressed for ID', id)\n      personService\n        .remove(id)\n        .then(response => {\n          setErrMessage(`'${currPerson.name}' has been deleted`)\n          setErrState(false)\n          console.log(response,\"server response\")\n          setPersons(persons.filter(person => person.id !== id))\n        })\n        .catch(error => {\n          setErrMessage(`'${currPerson.name}' has already been removed from the server`)\n          setErrState(true)\n          setTimeout(() => {\n            setErrMessage(null)\n          }, 5000)\n          setPersons(persons.filter(person => person.id !== currPerson.id))\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleTeleChange = (event) => {\n    setNewTele(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilterText(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter filterValue={filterText} onChange={handleFilterChange} />\n      <h2>add a new</h2>\n      <PersonForm formOnSubmit={addContact} nameInput={newName} nameOnChange={handleNameChange} phoneValue={newTele} phoneOnChange={handleTeleChange} />\n      <h2>Numbers</h2>\n      <Notification message={errMessage} errState={errState} />\n      <ul>\n        {personsToShow.map(person => <Person key={person.id} person={person} removeContact={() => delContact(person.id)}/>)}\n      </ul>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}